(()=>{var e={};e.id=255,e.ids=[255],e.modules={7462:(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{r.d(t,{db:()=>d});var n=r(97329),a=r(72094),c=r(64939),s=r(13723),i=e([c,a]);if([c,a]=i.then?(await i)():i,n.config({path:".env.local"}),!process.env.DATABASE_URL)throw Error("âŒ DATABASE_URL not set in .env.local");let p=new c.Pool({connectionString:process.env.DATABASE_URL,ssl:{rejectUnauthorized:!1}}),d=(0,a.fd)(p,{schema:s});o()}catch(e){o(e)}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13723:(e,t,r)=>{"use strict";r.r(t),r.d(t,{categories:()=>u,categoryOptionValues:()=>y,projectOptions:()=>g,projects:()=>l,teamMembers:()=>m,users:()=>d});var o=r(43402),n=r(79252),a=r(50033),c=r(29334),s=r(9253),i=r(14082),p=r(63431);let d=(0,o.cJ)("users",{uid:(0,n.yf)("uid",{length:255}).primaryKey(),userRole:(0,n.yf)("user_role",{length:50}).notNull()}),u=(0,o.cJ)("categories",{categoryId:(0,a.vX)("category_id").primaryKey(),category:(0,n.yf)("category",{length:100}).notNull()}),l=(0,o.cJ)("projects",{projectId:(0,a.vX)("project_id").primaryKey(),projectName:(0,n.yf)("project_name",{length:255}).notNull(),projectDescription:(0,c.Qq)("project_description"),projectLink:(0,n.yf)("project_link",{length:255}),createdAt:(0,s.vE)("created_at").defaultNow(),createdByUid:(0,n.yf)("created_by_uid",{length:255}),customDomain:(0,n.yf)("custom_domain",{length:255}),contactInstagram:(0,n.yf)("contact_instagram",{length:255}),contactLinkedIn:(0,n.yf)("contact_linkedin",{length:255}),contactEmail:(0,n.yf)("contact_email",{length:255}),contactWhatsApp:(0,n.yf)("contact_whatsapp",{length:255})},e=>({fk_createdBy:(0,i.mt)({columns:[e.createdByUid],foreignColumns:[d.uid]})})),m=(0,o.cJ)("team_members",{memberId:(0,a.vX)("member_id").primaryKey(),projectId:(0,p.nd)("project_id"),name:(0,n.yf)("name",{length:100}),linkedin:(0,n.yf)("linkedin",{length:255})},e=>({fk_projectId:(0,i.mt)({columns:[e.projectId],foreignColumns:[l.projectId]})})),y=(0,o.cJ)("category_option_values",{optionId:(0,a.vX)("option_id").primaryKey(),optionName:(0,n.yf)("option_name",{length:255}).notNull(),categoryId:(0,p.nd)("category_id")},e=>({fk_categoryId:(0,i.mt)({columns:[e.categoryId],foreignColumns:[u.categoryId]})})),g=(0,o.cJ)("project_options",{id:(0,a.vX)("id").primaryKey(),projectId:(0,p.nd)("project_id"),categoryId:(0,p.nd)("category_id"),optionId:(0,p.nd)("option_id")},e=>({fk_projectId:(0,i.mt)({columns:[e.projectId],foreignColumns:[l.projectId]}),fk_categoryId:(0,i.mt)({columns:[e.categoryId],foreignColumns:[u.categoryId]}),fk_optionId:(0,i.mt)({columns:[e.optionId],foreignColumns:[y.optionId]})}))},21820:e=>{"use strict";e.exports=require("os")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64939:e=>{"use strict";e.exports=import("pg")},78335:()=>{},85544:(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{r.r(t),r.d(t,{GET:()=>i});var n=r(7462),a=r(94634),c=r(13723),s=e([n]);async function i(e,t){let{projectId:r}=await t.params,o=Number(r);if(isNaN(o))return new Response(JSON.stringify({error:"Invalid project ID"}),{status:400});try{let[e]=await n.db.select().from(c.projects).where((0,a.eq)(c.projects.projectId,o));if(!e)return new Response(JSON.stringify({error:"Project not found"}),{status:404});let t=await n.db.select({name:c.teamMembers.name,linkedin:c.teamMembers.linkedin}).from(c.teamMembers).where((0,a.eq)(c.teamMembers.projectId,o)),r=await n.db.select({categoryName:c.categories.category,optionName:c.categoryOptionValues.optionName}).from(c.projectOptions).leftJoin(c.categories,(0,a.eq)(c.projectOptions.categoryId,c.categories.categoryId)).leftJoin(c.categoryOptionValues,(0,a.eq)(c.projectOptions.optionId,c.categoryOptionValues.optionId)).where((0,a.eq)(c.projectOptions.projectId,o));return new Response(JSON.stringify({...e,members:t,categories:r}),{status:200,headers:{"Content-Type":"application/json"}})}catch(e){return console.error("Error fetching project:",e),new Response(JSON.stringify({error:"Internal server error"}),{status:500})}}n=(s.then?(await s)():s)[0],o()}catch(e){o(e)}})},86824:(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{r.r(t),r.d(t,{patchFetch:()=>p,routeModule:()=>d,serverHooks:()=>m,workAsyncStorage:()=>u,workUnitAsyncStorage:()=>l});var n=r(96559),a=r(48088),c=r(37719),s=r(85544),i=e([s]);s=(i.then?(await i)():i)[0];let d=new n.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/projects/[projectId]/route",pathname:"/api/projects/[projectId]",filename:"route",bundlePath:"app/api/projects/[projectId]/route"},resolvedPagePath:"/home/shadilrayyan/code/codecomapass/Project_Collab/app/api/projects/[projectId]/route.ts",nextConfigOutput:"standalone",userland:s}),{workAsyncStorage:u,workUnitAsyncStorage:l,serverHooks:m}=d;function p(){return(0,c.patchFetch)({workAsyncStorage:u,workUnitAsyncStorage:l})}o()}catch(e){o(e)}})},96487:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[719,996],()=>r(86824));module.exports=o})();