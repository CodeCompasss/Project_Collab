(()=>{var e={};e.id=64,e.ids=[64],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7462:(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{r.d(t,{db:()=>d});var n=r(97329),a=r(72094),s=r(64939),i=r(13723),c=e([s,a]);if([s,a]=c.then?(await c)():c,n.config({path:".env.local"}),!process.env.DATABASE_URL)throw Error("❌ DATABASE_URL not set in .env.local");let l=new s.Pool({connectionString:process.env.DATABASE_URL,ssl:{rejectUnauthorized:!1}}),d=(0,a.fd)(l,{schema:i});o()}catch(e){o(e)}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13723:(e,t,r)=>{"use strict";r.r(t),r.d(t,{categories:()=>u,categoryOptionValues:()=>g,projectOptions:()=>y,projects:()=>p,teamMembers:()=>f,users:()=>d});var o=r(43402),n=r(79252),a=r(50033),s=r(29334),i=r(9253),c=r(14082),l=r(63431);let d=(0,o.cJ)("users",{uid:(0,n.yf)("uid",{length:255}).primaryKey(),userRole:(0,n.yf)("user_role",{length:50}).notNull()}),u=(0,o.cJ)("categories",{categoryId:(0,a.vX)("category_id").primaryKey(),category:(0,n.yf)("category",{length:100}).notNull()}),p=(0,o.cJ)("projects",{projectId:(0,a.vX)("project_id").primaryKey(),projectName:(0,n.yf)("project_name",{length:255}).notNull(),projectDescription:(0,s.Qq)("project_description"),projectLink:(0,n.yf)("project_link",{length:255}),createdAt:(0,i.vE)("created_at").defaultNow(),createdByUid:(0,n.yf)("created_by_uid",{length:255}),customDomain:(0,n.yf)("custom_domain",{length:255}),contactInstagram:(0,n.yf)("contact_instagram",{length:255}),contactLinkedIn:(0,n.yf)("contact_linkedin",{length:255}),contactEmail:(0,n.yf)("contact_email",{length:255}),contactWhatsApp:(0,n.yf)("contact_whatsapp",{length:255})},e=>({fk_createdBy:(0,c.mt)({columns:[e.createdByUid],foreignColumns:[d.uid]})})),f=(0,o.cJ)("team_members",{memberId:(0,a.vX)("member_id").primaryKey(),projectId:(0,l.nd)("project_id"),name:(0,n.yf)("name",{length:100}),linkedin:(0,n.yf)("linkedin",{length:255})},e=>({fk_projectId:(0,c.mt)({columns:[e.projectId],foreignColumns:[p.projectId]})})),g=(0,o.cJ)("category_option_values",{optionId:(0,a.vX)("option_id").primaryKey(),optionName:(0,n.yf)("option_name",{length:255}).notNull(),categoryId:(0,l.nd)("category_id")},e=>({fk_categoryId:(0,c.mt)({columns:[e.categoryId],foreignColumns:[u.categoryId]})})),y=(0,o.cJ)("project_options",{id:(0,a.vX)("id").primaryKey(),projectId:(0,l.nd)("project_id"),categoryId:(0,l.nd)("category_id"),optionId:(0,l.nd)("option_id")},e=>({fk_projectId:(0,c.mt)({columns:[e.projectId],foreignColumns:[p.projectId]}),fk_categoryId:(0,c.mt)({columns:[e.categoryId],foreignColumns:[u.categoryId]}),fk_optionId:(0,c.mt)({columns:[e.optionId],foreignColumns:[g.optionId]})}))},14276:e=>{"use strict";e.exports=import("firebase-admin/auth")},21820:e=>{"use strict";e.exports=require("os")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},44999:(e,t,r)=>{"use strict";r.d(t,{UL:()=>o.U});var o=r(99933);r(86280),r(73913)},55269:(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{r.r(t),r.d(t,{DELETE:()=>g,GET:()=>u,POST:()=>p,PUT:()=>f});var n=r(32190),a=r(7462),s=r(13723),i=r(94634),c=r(14276),l=r(44999),d=e([a,c]);async function u(e){try{let e=(await a.db.select().from(s.projects).leftJoin(s.teamMembers,(0,i.eq)(s.projects.projectId,s.teamMembers.projectId))).reduce((e,t)=>{let r=e.find(e=>e.projectId===t.projects.projectId);return r?t.team_members&&r.members.push(t.team_members):e.push({...t.projects,members:t.team_members?[t.team_members]:[]}),e},[]),t=await Promise.all(e.map(async e=>{let t=[];for(let r of(await a.db.select({categoryId:s.projectOptions.categoryId,optionId:s.projectOptions.optionId}).from(s.projectOptions).where((0,i.eq)(s.projectOptions.projectId,e.projectId)))){let e=await a.db.select({categoryName:s.categories.category}).from(s.categories).where((0,i.eq)(s.categories.categoryId,r.categoryId));if(e.length>0){let o=await a.db.select({optionName:s.categoryOptionValues.optionName}).from(s.categoryOptionValues).where((0,i.eq)(s.categoryOptionValues.optionId,r.optionId));o.length>0&&t.push({categoryName:e[0].categoryName,optionName:o[0].optionName})}}return{...e,categories:t}}));return console.log("GET /api/projects - Final projects data sent:",JSON.stringify(t,null,2)),n.NextResponse.json(t)}catch(e){return console.error("Error fetching projects:",e),n.NextResponse.json({message:"Failed to fetch projects."},{status:500})}}async function p(e){try{(0,l.UL)();let t=e.cookies.get("__session")?.value;if(console.log("Token from cookie:",t),!t)return console.warn("No token found"),n.NextResponse.json({message:"Unauthorized"},{status:401});let r=await (0,c.getAuth)().verifyIdToken(t);console.log("Decoded Firebase UID:",r.uid);let o=r.uid,{projectName:d,projectDescription:u,projectLink:p,createdAt:f,members:g,projectCategoryOptions:y,customDomain:m,contactInstagram:h,contactLinkedIn:b,contactEmail:j,contactWhatsApp:w}=await e.json();console.log("POST /api/projects - Incoming project data:",{projectName:d,projectDescription:u,projectCategoryOptions:y,customDomain:m}),await a.db.insert(s.users).values({uid:o,userRole:"member"}).onConflictDoNothing();let[k]=await a.db.insert(s.projects).values({projectName:d,projectDescription:u,projectLink:p,createdAt:new Date(f),customDomain:m,createdByUid:o,contactInstagram:h,contactLinkedIn:b,contactEmail:j,contactWhatsApp:w}).returning({projectId:s.projects.projectId});if(!k||!k.projectId)return console.error("Failed to insert new project:",d),n.NextResponse.json({message:"Failed to create project."},{status:500});if(console.log("POST /api/projects - New project created with ID:",k.projectId),g&&g.length>0){for(let e of g)await a.db.insert(s.teamMembers).values({projectId:k.projectId,name:e.name,linkedin:e.linkedin});console.log("POST /api/projects - Team members inserted.")}if(y&&k.projectId)for(let e of y)if(console.log(`POST /api/projects - Processing category mapping: ${e.categoryName} = ${e.optionName}`),e.optionName){let t=await a.db.select({categoryId:s.categories.categoryId}).from(s.categories).where((0,i.eq)(s.categories.category,e.categoryName));if(console.log(`POST /api/projects - Category lookup result for ${e.categoryName}:`,t),t.length>0&&t[0].categoryId){let r="Domain"===e.categoryName&&m?"Other":e.optionName,o=await a.db.select({optionId:s.categoryOptionValues.optionId}).from(s.categoryOptionValues).where((0,i.Uo)((0,i.eq)(s.categoryOptionValues.optionName,r),(0,i.eq)(s.categoryOptionValues.categoryId,t[0].categoryId)));console.log(`POST /api/projects - Option lookup result for ${r} in category ${e.categoryName}:`,o),o.length>0&&o[0].optionId?(console.log("POST /api/projects - Inserting into projectOptions:",{projectId:k.projectId,categoryId:t[0].categoryId,optionId:o[0].optionId}),await a.db.insert(s.projectOptions).values({projectId:k.projectId,categoryId:t[0].categoryId,optionId:o[0].optionId}),console.log("POST /api/projects - Inserted into projectOptions.")):console.warn(`POST /api/projects - Option not found for ${r} in category ${e.categoryName}. Skipping linking.`)}else console.warn(`POST /api/projects - Category not found for name: ${e.categoryName}. Skipping linking.`)}else console.log(`POST /api/projects - Option name is empty for category ${e.categoryName}. Skipping linking.`);return n.NextResponse.json(k,{status:201})}catch(e){return console.error("Error adding project:",e),n.NextResponse.json({message:"Failed to add project."},{status:500})}}async function f(e){try{let{projectId:t,projectName:r,projectDescription:o,projectLink:c,createdAt:l,members:d,projectCategoryOptions:u,customDomain:p,contactInstagram:f,contactLinkedIn:g,contactEmail:y,contactWhatsApp:m}=await e.json();if(console.log("PUT /api/projects - Incoming project data:",{projectId:t,projectName:r,projectDescription:o,projectCategoryOptions:u,customDomain:p}),!t)return n.NextResponse.json({message:"Project ID is required for update."},{status:400});if(await a.db.update(s.projects).set({projectName:r,projectDescription:o,projectLink:c,createdAt:new Date(l),customDomain:p,contactInstagram:f,contactLinkedIn:g,contactEmail:y,contactWhatsApp:m}).where((0,i.eq)(s.projects.projectId,t)),console.log("PUT /api/projects - Project details updated."),await a.db.delete(s.teamMembers).where((0,i.eq)(s.teamMembers.projectId,t)),d&&d.length>0){for(let e of d)await a.db.insert(s.teamMembers).values({projectId:t,name:e.name,linkedin:e.linkedin});console.log("PUT /api/projects - Team members updated.")}if(await a.db.delete(s.projectOptions).where((0,i.eq)(s.projectOptions.projectId,t)),u&&u.length>0){for(let e of u)if(console.log(`PUT /api/projects - Processing category mapping: ${e.categoryName} = ${e.optionName}`),e.optionName){let r=await a.db.select({categoryId:s.categories.categoryId}).from(s.categories).where((0,i.eq)(s.categories.category,e.categoryName));if(r.length>0&&r[0].categoryId){let o="Domain"===e.categoryName&&p?"Other":e.optionName,n=await a.db.select({optionId:s.categoryOptionValues.optionId}).from(s.categoryOptionValues).where((0,i.Uo)((0,i.eq)(s.categoryOptionValues.optionName,o),(0,i.eq)(s.categoryOptionValues.categoryId,r[0].categoryId)));console.log(`PUT /api/projects - Option lookup result for ${o} in category ${e.categoryName}:`,n),n.length>0&&n[0].optionId?await a.db.insert(s.projectOptions).values({projectId:t,categoryId:r[0].categoryId,optionId:n[0].optionId}):console.warn(`PUT /api/projects - Option not found for ${o} in category ${e.categoryName}. Skipping linking.`)}else console.warn(`PUT /api/projects - Category not found for name: ${e.categoryName}. Skipping linking.`)}else console.log(`PUT /api/projects - Option name is empty for category ${e.categoryName}. Skipping linking.`);console.log("PUT /api/projects - Project category options updated.")}return n.NextResponse.json({message:"Project updated successfully."},{status:200})}catch(e){return console.error("Error updating project:",e),n.NextResponse.json({message:"Failed to update project."},{status:500})}}async function g(e){try{let{projectId:t}=await e.json();return await a.db.delete(s.projectOptions).where((0,i.eq)(s.projectOptions.projectId,t)),await a.db.delete(s.teamMembers).where((0,i.eq)(s.teamMembers.projectId,t)),await a.db.delete(s.projects).where((0,i.eq)(s.projects.projectId,t)),n.NextResponse.json({message:"Project deleted successfully."})}catch(e){return console.error("Error deleting project:",e),n.NextResponse.json({message:"Failed to delete project."},{status:500})}}[a,c]=d.then?(await d)():d,o()}catch(e){o(e)}})},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64478:(e,t,r)=>{"use strict";r.a(e,async(e,o)=>{try{r.r(t),r.d(t,{patchFetch:()=>l,routeModule:()=>d,serverHooks:()=>f,workAsyncStorage:()=>u,workUnitAsyncStorage:()=>p});var n=r(96559),a=r(48088),s=r(37719),i=r(55269),c=e([i]);i=(c.then?(await c)():c)[0];let d=new n.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/projects/route",pathname:"/api/projects",filename:"route",bundlePath:"app/api/projects/route"},resolvedPagePath:"/home/shadilrayyan/code/codecomapass/Project_Collab/app/api/projects/route.ts",nextConfigOutput:"standalone",userland:i}),{workAsyncStorage:u,workUnitAsyncStorage:p,serverHooks:f}=d;function l(){return(0,s.patchFetch)({workAsyncStorage:u,workUnitAsyncStorage:p})}o()}catch(e){o(e)}})},64939:e=>{"use strict";e.exports=import("pg")},73913:(e,t,r)=>{"use strict";let o=r(63033),n=r(29294),a=r(84971),s=r(76926),i=r(80023),c=r(98479);function l(){let e=n.workAsyncStorage.getStore(),t=o.workUnitAsyncStorage.getStore();switch((!e||!t)&&(0,o.throwForMissingRequestStore)("draftMode"),t.type){case"request":return d(t.draftMode,e);case"cache":case"unstable-cache":let r=(0,o.getDraftModeProviderForCacheScope)(e,t);if(r)return d(r,e);case"prerender":case"prerender-ppr":case"prerender-legacy":return p(null);default:return t}}function d(e,t){let r,o=u.get(l);return o||(r=p(e),u.set(e,r),r)}let u=new WeakMap;function p(e){let t=new f(e),r=Promise.resolve(t);return Object.defineProperty(r,"isEnabled",{get:()=>t.isEnabled,set(e){Object.defineProperty(r,"isEnabled",{value:e,writable:!0,enumerable:!0})},enumerable:!0,configurable:!0}),r.enable=t.enable.bind(t),r.disable=t.disable.bind(t),r}class f{constructor(e){this._provider=e}get isEnabled(){return null!==this._provider&&this._provider.isEnabled}enable(){y("draftMode().enable()"),null!==this._provider&&this._provider.enable()}disable(){y("draftMode().disable()"),null!==this._provider&&this._provider.disable()}}let g=(0,s.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`draftMode()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E377",enumerable:!1,configurable:!0})});function y(e){let t=n.workAsyncStorage.getStore(),r=o.workUnitAsyncStorage.getStore();if(t){if(r){if("cache"===r.type)throw Object.defineProperty(Error(`Route ${t.route} used "${e}" inside "use cache". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E246",enumerable:!1,configurable:!0});else if("unstable-cache"===r.type)throw Object.defineProperty(Error(`Route ${t.route} used "${e}" inside a function cached with "unstable_cache(...)". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E259",enumerable:!1,configurable:!0});else if("after"===r.phase)throw Object.defineProperty(Error(`Route ${t.route} used "${e}" inside \`after\`. The enabled status of draftMode can be read inside \`after\` but you cannot enable or disable draftMode. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E348",enumerable:!1,configurable:!0})}if(t.dynamicShouldError)throw Object.defineProperty(new i.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(r){if("prerender"===r.type){let o=Object.defineProperty(Error(`Route ${t.route} used ${e} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`),"__NEXT_ERROR_CODE",{value:"E126",enumerable:!1,configurable:!0});(0,a.abortAndThrowOnSynchronousRequestDataAccess)(t.route,e,o,r)}else if("prerender-ppr"===r.type)(0,a.postponeWithTracking)(t.route,e,r.dynamicTracking);else if("prerender-legacy"===r.type){r.revalidate=0;let o=Object.defineProperty(new c.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw t.dynamicUsageDescription=e,t.dynamicUsageStack=o.stack,o}}}}},76926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return c}});let o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=a?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(o,s,i):o[s]=e[s]}return o.default=e,r&&r.set(e,o),o}(r(61120));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}let a={current:null},s="function"==typeof o.cache?o.cache:e=>e,i=console.warn;function c(e){return function(...t){i(e(...t))}}s(e=>{try{i(a.current)}finally{a.current=null}})},78335:()=>{},86280:(e,t,r)=>{"use strict";let o=r(92584),n=r(29294),a=r(63033),s=r(84971),i=r(80023),c=r(68388),l=r(76926),d=(r(44523),r(8719)),u=new WeakMap;function p(e){let t=u.get(e);if(t)return t;let r=Promise.resolve(e);return u.set(e,r),Object.defineProperties(r,{append:{value:e.append.bind(e)},delete:{value:e.delete.bind(e)},get:{value:e.get.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},getSetCookie:{value:e.getSetCookie.bind(e)},forEach:{value:e.forEach.bind(e)},keys:{value:e.keys.bind(e)},values:{value:e.values.bind(e)},entries:{value:e.entries.bind(e)},[Symbol.iterator]:{value:e[Symbol.iterator].bind(e)}}),r}function f(e){return"string"==typeof e?`'${e}'`:"..."}let g=(0,l.createDedupedByCallsiteServerErrorLoggerDev)(y);function y(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`headers()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E277",enumerable:!1,configurable:!0})}},92584:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{HeadersAdapter:function(){return a},ReadonlyHeadersError:function(){return n}});let o=r(43763);class n extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new n}}class a extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,n){if("symbol"==typeof r)return o.ReflectAdapter.get(t,r,n);let a=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===a);if(void 0!==s)return o.ReflectAdapter.get(t,s,n)},set(t,r,n,a){if("symbol"==typeof r)return o.ReflectAdapter.set(t,r,n,a);let s=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===s);return o.ReflectAdapter.set(t,i??r,n,a)},has(t,r){if("symbol"==typeof r)return o.ReflectAdapter.has(t,r);let n=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0!==a&&o.ReflectAdapter.has(t,a)},deleteProperty(t,r){if("symbol"==typeof r)return o.ReflectAdapter.deleteProperty(t,r);let n=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0===a||o.ReflectAdapter.deleteProperty(t,a)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return n.callable;default:return o.ReflectAdapter.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new a(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,o]of this.entries())e.call(t,o,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},94069:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{MutableRequestCookiesAdapter:function(){return p},ReadonlyRequestCookiesError:function(){return i},RequestCookiesAdapter:function(){return c},appendMutableCookies:function(){return u},areCookiesMutableInCurrentPhase:function(){return g},getModifiedCookieValues:function(){return d},responseCookiesToRequestCookies:function(){return m},wrapWithMutableAccessCheck:function(){return f}});let o=r(23158),n=r(43763),a=r(29294),s=r(63033);class i extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new i}}class c{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return i.callable;default:return n.ReflectAdapter.get(e,t,r)}}})}}let l=Symbol.for("next.mutated.cookies");function d(e){let t=e[l];return t&&Array.isArray(t)&&0!==t.length?t:[]}function u(e,t){let r=d(t);if(0===r.length)return!1;let n=new o.ResponseCookies(e),a=n.getAll();for(let e of r)n.set(e);for(let e of a)n.set(e);return!0}class p{static wrap(e,t){let r=new o.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let s=[],i=new Set,c=()=>{let e=a.workAsyncStorage.getStore();if(e&&(e.pathWasRevalidated=!0),s=r.getAll().filter(e=>i.has(e.name)),t){let e=[];for(let t of s){let r=new o.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}},d=new Proxy(r,{get(e,t,r){switch(t){case l:return s;case"delete":return function(...t){i.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.delete(...t),d}finally{c()}};case"set":return function(...t){i.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t),d}finally{c()}};default:return n.ReflectAdapter.get(e,t,r)}}});return d}}function f(e){let t=new Proxy(e,{get(e,r,o){switch(r){case"delete":return function(...r){return y("cookies().delete"),e.delete(...r),t};case"set":return function(...r){return y("cookies().set"),e.set(...r),t};default:return n.ReflectAdapter.get(e,r,o)}}});return t}function g(e){return"action"===e.phase}function y(e){if(!g((0,s.getExpectedRequestStore)(e)))throw new i}function m(e){let t=new o.RequestCookies(new Headers);for(let r of e.getAll())t.set(r);return t}},96487:()=>{},99933:(e,t,r)=>{"use strict";Object.defineProperty(t,"U",{enumerable:!0,get:function(){return p}});let o=r(94069),n=r(23158),a=r(29294),s=r(63033),i=r(84971),c=r(80023),l=r(68388),d=r(76926),u=(r(44523),r(8719));function p(){let e="cookies",t=a.workAsyncStorage.getStore(),r=s.workUnitAsyncStorage.getStore();if(t){if(r&&"after"===r.phase&&!(0,u.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${t.route} used "cookies" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "cookies" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E88",enumerable:!1,configurable:!0});if(t.forceStatic)return g(o.RequestCookiesAdapter.seal(new n.RequestCookies(new Headers({}))));if(r){if("cache"===r.type)throw Object.defineProperty(Error(`Route ${t.route} used "cookies" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E398",enumerable:!1,configurable:!0});else if("unstable-cache"===r.type)throw Object.defineProperty(Error(`Route ${t.route} used "cookies" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E157",enumerable:!1,configurable:!0})}if(t.dynamicShouldError)throw Object.defineProperty(new c.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E549",enumerable:!1,configurable:!0});if(r)if("prerender"===r.type){var d=t.route,p=r;let e=f.get(p);if(e)return e;let o=(0,l.makeHangingPromise)(p.renderSignal,"`cookies()`");return f.set(p,o),Object.defineProperties(o,{[Symbol.iterator]:{value:function(){let e="`cookies()[Symbol.iterator]()`",t=h(d,e);(0,i.abortAndThrowOnSynchronousRequestDataAccess)(d,e,t,p)}},size:{get(){let e="`cookies().size`",t=h(d,e);(0,i.abortAndThrowOnSynchronousRequestDataAccess)(d,e,t,p)}},get:{value:function(){let e;e=0==arguments.length?"`cookies().get()`":`\`cookies().get(${y(arguments[0])})\``;let t=h(d,e);(0,i.abortAndThrowOnSynchronousRequestDataAccess)(d,e,t,p)}},getAll:{value:function(){let e;e=0==arguments.length?"`cookies().getAll()`":`\`cookies().getAll(${y(arguments[0])})\``;let t=h(d,e);(0,i.abortAndThrowOnSynchronousRequestDataAccess)(d,e,t,p)}},has:{value:function(){let e;e=0==arguments.length?"`cookies().has()`":`\`cookies().has(${y(arguments[0])})\``;let t=h(d,e);(0,i.abortAndThrowOnSynchronousRequestDataAccess)(d,e,t,p)}},set:{value:function(){let e;if(0==arguments.length)e="`cookies().set()`";else{let t=arguments[0];e=t?`\`cookies().set(${y(t)}, ...)\``:"`cookies().set(...)`"}let t=h(d,e);(0,i.abortAndThrowOnSynchronousRequestDataAccess)(d,e,t,p)}},delete:{value:function(){let e;e=0==arguments.length?"`cookies().delete()`":1==arguments.length?`\`cookies().delete(${y(arguments[0])})\``:`\`cookies().delete(${y(arguments[0])}, ...)\``;let t=h(d,e);(0,i.abortAndThrowOnSynchronousRequestDataAccess)(d,e,t,p)}},clear:{value:function(){let e="`cookies().clear()`",t=h(d,e);(0,i.abortAndThrowOnSynchronousRequestDataAccess)(d,e,t,p)}},toString:{value:function(){let e="`cookies().toString()`",t=h(d,e);(0,i.abortAndThrowOnSynchronousRequestDataAccess)(d,e,t,p)}}}),o}else"prerender-ppr"===r.type?(0,i.postponeWithTracking)(t.route,e,r.dynamicTracking):"prerender-legacy"===r.type&&(0,i.throwToInterruptStaticGeneration)(e,t,r);(0,i.trackDynamicDataInDynamicRender)(t,r)}let m=(0,s.getExpectedRequestStore)(e);return g((0,o.areCookiesMutableInCurrentPhase)(m)?m.userspaceMutableCookies:m.cookies)}let f=new WeakMap;function g(e){let t=f.get(e);if(t)return t;let r=Promise.resolve(e);return f.set(e,r),Object.defineProperties(r,{[Symbol.iterator]:{value:e[Symbol.iterator]?e[Symbol.iterator].bind(e):b.bind(e)},size:{get:()=>e.size},get:{value:e.get.bind(e)},getAll:{value:e.getAll.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},delete:{value:e.delete.bind(e)},clear:{value:"function"==typeof e.clear?e.clear.bind(e):j.bind(e,r)},toString:{value:e.toString.bind(e)}}),r}function y(e){return"object"==typeof e&&null!==e&&"string"==typeof e.name?`'${e.name}'`:"string"==typeof e?`'${e}'`:"..."}let m=(0,d.createDedupedByCallsiteServerErrorLoggerDev)(h);function h(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`cookies()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E223",enumerable:!1,configurable:!0})}function b(){return this.getAll().map(e=>[e.name,e]).values()}function j(e){for(let e of this.getAll())this.delete(e.name);return e}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[719,996,190],()=>r(64478));module.exports=o})();