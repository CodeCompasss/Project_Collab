(()=>{var e={};e.id=849,e.ids=[849],e.modules={1621:(e,t,r)=>{Promise.resolve().then(r.bind(r,17110))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6747:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(60687),s=r(43210),o=r(99386);function n(){let[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!0),[i,l]=(0,s.useState)(null),[d,c]=(0,s.useState)(!1),[m,p]=(0,s.useState)(null),[u,h]=(0,s.useState)([]),[x,b]=(0,s.useState)(!0),[g,j]=(0,s.useState)(null),y=async()=>{try{let e=await fetch("/api/projects");if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let r=await e.json();console.log("Fetched Projects Data:",r),t(r)}catch(e){l(e.message),console.error("Failed to fetch projects:",e)}finally{n(!1)}},f=e=>{console.log("Editing Project:",e);let t={};u.forEach(r=>{let a=e.categories?.find(e=>e.categoryName.toLowerCase()===r.categoryName.toLowerCase());t[r.categoryName]=a?.optionName.trim()||"","Year of Submission"===r.categoryName&&console.log(`handleEditProject - Year of Submission - projectOption: ${a?.optionName}, trimmed: ${a?.optionName.trim()}, selectedCategoryOptions: ${t[r.categoryName]}`)}),p({...e,createdAt:e.createdAt.split("T")[0],selectedCategoryOptions:t,customDomain:e.customDomain||""}),c(!0)},v=async r=>{if(window.confirm("Are you sure you want to delete this project?"))try{let a=await fetch("/api/projects",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:r})});if(!a.ok)throw Error(`HTTP error! status: ${a.status}`);t(e.filter(e=>e.projectId!==r))}catch(e){l(e.message),console.error("Failed to delete project:",e)}},w=async e=>{if(e.preventDefault(),!m)return;if(!m.members.some(e=>""!==e.name.trim()))return void alert("Please enter at least one member name.");let t=m.members.filter(e=>""!==e.name.trim()),r=Object.entries(m.selectedCategoryOptions).map(([e,t])=>({categoryName:e,optionName:"Domain"===e&&"Other"===t?m.customDomain||"":t})),a={projectId:m.projectId,projectName:m.projectName,projectDescription:m.projectDescription,projectLink:m.projectLink,createdAt:m.createdAt,members:t,projectCategoryOptions:r,customDomain:"Other"===m.selectedCategoryOptions.Domain?m.customDomain:void 0},s=m.projectId?"PUT":"POST";try{let e=await fetch("/api/projects",{method:s,headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);y(),c(!1),p(null)}catch(e){l(e.message),console.error("Failed to save project:",e)}},N=e=>{let{name:t,value:r}=e.target;p(e=>{if(!e)return null;if(t.startsWith("category-")){let a=t.replace("category-","");return{...e,selectedCategoryOptions:{...e.selectedCategoryOptions,[a]:r.trim()},customDomain:"Domain"===a&&"Other"!==r?"":e.customDomain}}return"customDomain"===t?{...e,customDomain:r}:{...e,[t]:r}}),t.startsWith("category-")&&"Year of Submission"===t.replace("category-","")&&console.log(`handleChange - Year of Submission - name: ${t}, value: ${r}, trimmed: ${r.trim()}`)},P=(e,t)=>{let{name:r,value:a}=t.target;p(t=>{if(!t)return null;let s=[...t.members];return s[e]={...s[e],[r]:a},{...t,members:s}})},k=e=>{p(t=>{if(!t)return null;let r=t.members.filter((t,r)=>r!==e);return{...t,members:r}})};return r?(0,a.jsx)(o.A,{}):i?(0,a.jsxs)("div",{children:["Error: ",i]}):(0,a.jsx)("div",{className:"flex flex-col md:flex-row h-screen bg-gray-100 p-4 md:p-6",children:(0,a.jsxs)("div",{className:"flex-1 p-4 md:p-6 overflow-auto",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Manage Projects"}),(0,a.jsx)("button",{onClick:()=>{p({projectName:"",projectDescription:"",projectLink:"",createdAt:new Date().toISOString().split("T")[0],members:[{name:"",linkedin:""}],selectedCategoryOptions:{}}),c(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-md mb-4 hover:bg-blue-700 w-full md:w-auto",children:"Add New Project"}),(0,a.jsx)("div",{className:"bg-white shadow-md rounded-lg p-4 md:p-6 overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project Name"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.projectName}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[e.projectDescription?.substring(0,50),"..."]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsx)("button",{onClick:()=>f(e),className:"text-indigo-600 hover:text-indigo-900 mr-4",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>e.projectId&&v(e.projectId),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.projectId))})]})}),d&&m&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex justify-center items-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:m.projectId?"Edit Project":"Add Project"}),(0,a.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"projectName",className:"block text-sm font-medium text-gray-700",children:"Project Name"}),(0,a.jsx)("input",{type:"text",id:"projectName",name:"projectName",value:m.projectName,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"projectDescription",className:"block text-sm font-medium text-gray-700",children:"Project Description"}),(0,a.jsx)("textarea",{id:"projectDescription",name:"projectDescription",value:m.projectDescription,onChange:N,rows:4,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"projectLink",className:"block text-sm font-medium text-gray-700",children:"Project Link"}),(0,a.jsx)("input",{type:"url",id:"projectLink",name:"projectLink",value:m.projectLink,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"createdAt",className:"block text-sm font-medium text-gray-700",children:"Created At"}),(0,a.jsx)("input",{type:"date",id:"createdAt",name:"createdAt",value:m.createdAt,onChange:N,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0})]}),u.length>0&&u.map(e=>(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:`category-${e.categoryName}`,className:"block text-sm font-medium text-gray-700",children:e.categoryName}),(0,a.jsxs)("select",{id:`category-${e.categoryName}`,name:`category-${e.categoryName}`,required:!0,className:"w-full px-4 py-2 border rounded-lg",onChange:N,value:m.selectedCategoryOptions[e.categoryName]||"",children:[(0,a.jsxs)("option",{value:"",children:["Select a ",e.categoryName]}),e.options.map(e=>(0,a.jsx)("option",{value:e.optionName.trim(),children:e.optionName},e.optionId))]}),"Domain"===e.categoryName&&"Other"===m.selectedCategoryOptions.Domain&&(0,a.jsx)("input",{type:"text",name:"customDomain",required:!0,className:"mt-2 w-full px-4 py-2 border rounded-lg",placeholder:"Enter custom domain",onChange:N,value:m.customDomain||""})]},e.categoryId)),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-700 mt-6 mb-2",children:"Team Members"}),m.members.map((e,t)=>(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 mb-2 items-end",children:[(0,a.jsxs)("div",{className:"flex-1 w-full",children:[(0,a.jsx)("label",{htmlFor:`member-name-${t}`,className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,a.jsx)("input",{type:"text",id:`member-name-${t}`,name:"name",value:e.name,onChange:e=>P(t,e),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0})]}),(0,a.jsxs)("div",{className:"flex-1 w-full",children:[(0,a.jsx)("label",{htmlFor:`member-linkedin-${t}`,className:"block text-sm font-medium text-gray-700",children:"LinkedIn"}),(0,a.jsx)("input",{type:"url",id:`member-linkedin-${t}`,name:"linkedin",value:e.linkedin,onChange:e=>P(t,e),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"})]}),(0,a.jsx)("button",{type:"button",onClick:()=>k(t),className:"bg-red-500 text-white px-3 py-2 rounded-md h-fit hover:bg-red-600 w-full sm:w-auto",children:"Remove"})]},t)),(0,a.jsx)("button",{type:"button",onClick:()=>{p(e=>e?{...e,members:[...e.members,{name:"",linkedin:""}]}:null)},className:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600 w-full sm:w-auto",children:"Add Member"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 mt-6",children:[(0,a.jsx)("button",{type:"button",onClick:()=>c(!1),className:"bg-gray-300 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-400 w-full sm:w-auto",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 w-full sm:w-auto",children:"Save Project"})]})]})]})})]})})}},10108:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d});var a=r(65239),s=r(48088),o=r(88170),n=r.n(o),i=r(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d={children:["",{children:["manage-projects",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,17110)),"/home/shadilrayyan/code/codecomapass/Project_Collab/app/manage-projects/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"/home/shadilrayyan/code/codecomapass/Project_Collab/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/shadilrayyan/code/codecomapass/Project_Collab/app/manage-projects/page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/manage-projects/page",pathname:"/manage-projects",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14723:()=>{},15403:()=>{},17110:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/shadilrayyan/code/codecomapass/Project_Collab/app/manage-projects/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/shadilrayyan/code/codecomapass/Project_Collab/app/manage-projects/page.tsx","default")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},43477:(e,t,r)=>{Promise.resolve().then(r.bind(r,6747))},46055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(31658);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},48984:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},58014:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>l});var a=r(37413),s=r(56389),o=r.n(s),n=r(51189),i=r.n(n);r(82704);let l={title:"Code Compass",description:"Generated by create next app"};function d({children:e}){return(0,a.jsx)("html",{lang:"en",children:(0,a.jsx)("body",{className:`${o().variable} ${i().variable} antialiased`,children:e})})}},58712:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79551:e=>{"use strict";e.exports=require("url")},82704:()=>{},99386:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(60687);r(43210);let s=({numRows:e=5,numCols:t=3})=>(0,a.jsx)("div",{className:"bg-white shadow-md rounded-lg p-4 md:p-6 animate-pulse",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsx)("tr",{children:Array.from({length:t}).map((e,t)=>(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded"})},t))})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:Array.from({length:e}).map((e,r)=>(0,a.jsx)("tr",{children:Array.from({length:t}).map((e,t)=>(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"})},t))},r))})]})})}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[719,985,658],()=>r(10108));module.exports=a})();