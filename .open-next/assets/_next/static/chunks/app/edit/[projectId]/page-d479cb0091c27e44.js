(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[502],{1138:(e,t,r)=>{"use strict";r.d(t,{j2:()=>i,kA:()=>d});var a=r(3915),o=r(3004),s=r(5317),n=r(858);let l={apiKey:"AIzaSyDG9VhP-IATL4km710pw2268S9TEV2G4HU",authDomain:"gecian-hub.firebaseapp.com",projectId:"gecian-hub",storageBucket:"gecian-hub.firebasestorage.app",messagingSenderId:"878972234931",appId:"1:878972234931:web:50308ca5adaf8c893a14c6",measurementId:r(9509).env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID},c=0===(0,a.Dk)().length?(0,a.Wp)(l):(0,a.Dk)()[0],i=(0,o.xI)(c),d=(0,s.aU)(c);(0,n.c7)(c)},1823:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(5155),o=r(2115),s=r(5695),n=r(1138),l=r(3004),c=r(7550);function i(){let e=(0,s.useRouter)(),t=(0,s.useParams)(),r=null==t?void 0:t.projectId,[i,d]=(0,o.useState)(null),[u,m]=(0,o.useState)([]),[p,h]=(0,o.useState)(null),[b,g]=(0,o.useState)(!0),[x,f]=(0,o.useState)(null);(0,o.useEffect)(()=>{let e=(0,l.hg)(n.j2,async e=>{e?d(await e.getIdToken()):(f("You must be logged in to edit projects."),g(!1))});return()=>e()},[]),(0,o.useEffect)(()=>{i&&r&&(async()=>{try{let[e,t]=await Promise.all([fetch("/api/categories"),fetch("/api/projects/".concat(r),{headers:{Authorization:"Bearer ".concat(i)}})]);if(!e.ok||!t.ok)throw Error("Failed to fetch data");let a=await e.json(),o=await t.json();console.log("Project Data Categories:",o.categories);let s={};a.forEach(e=>{var t;let r=e.categoryName.trim().toLowerCase(),a=null==(t=o.categories)?void 0:t.find(e=>e.categoryName.trim().toLowerCase()===r);s[e.categoryName]=(null==a?void 0:a.optionName)||""}),m(a),h({...o,createdAt:o.createdAt.split("T")[0],selectedCategoryOptions:s})}catch(e){f(e.message)}finally{g(!1)}})()},[i,r]);let j=e=>{if(!p)return;let{name:t,value:r}=e.target;if(t.startsWith("category-")){let e=t.replace("category-","");h({...p,selectedCategoryOptions:{...p.selectedCategoryOptions,[e]:r}})}else h({...p,[t]:r})},y=async t=>{if(t.preventDefault(),!p||!i)return;let r={...p,projectCategoryOptions:Object.entries(p.selectedCategoryOptions).map(e=>{let[t,r]=e;return{categoryName:t,optionName:r}})};try{if(!(await fetch("/api/projects",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)},body:JSON.stringify(r)})).ok)throw Error("Failed to update project");e.push("/profile")}catch(e){f(e.message)}};return b?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-blue-300 border-t-blue-600 rounded-full animate-spin mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-blue-700 font-medium",children:"Loading your projects..."})]})}):x?(0,a.jsx)("div",{className:"p-8 text-red-600 text-center",children:x}):p?(console.log("Selected Options:",p.selectedCategoryOptions),console.log("Categories:",u),(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto ",children:[(0,a.jsxs)("button",{onClick:()=>e.push("/profile"),className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200 mb-4",children:[(0,a.jsx)(c.A,{className:"w-5 h-5 mr-2"}),(0,a.jsx)("span",{className:"font-medium",children:"Back to Profile"})]}),(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4 text-center text-blue-700",children:"Edit Project"}),(0,a.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Project Name"}),(0,a.jsx)("input",{type:"text",name:"projectName",value:p.projectName,onChange:j,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md p-2 active:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Project Description"}),(0,a.jsx)("textarea",{name:"projectDescription",value:p.projectDescription||"",onChange:j,rows:3,className:"mt-1 block w-full border border-gray-300 rounded-md p-2 active:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsx)("h2",{className:"text-lg font-semibold mt-6 mb-2",children:"Contact Information (Optional)"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"contactInstagram",className:"block text-sm font-medium text-gray-700",children:"Instagram"}),(0,a.jsx)("input",{type:"text",id:"contactInstagram",name:"contactInstagram",value:p.contactInstagram||"",onChange:j,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"Instagram username or link"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"contactLinkedIn",className:"block text-sm font-medium text-gray-700",children:"LinkedIn"}),(0,a.jsx)("input",{type:"text",id:"contactLinkedIn",name:"contactLinkedIn",value:p.contactLinkedIn||"",onChange:j,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"LinkedIn profile link"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"contactEmail",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,a.jsx)("input",{type:"email",id:"contactEmail",name:"contactEmail",value:p.contactEmail||"",onChange:j,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"Email address"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"contactWhatsApp",className:"block text-sm font-medium text-gray-700",children:"WhatsApp"}),(0,a.jsx)("input",{type:"text",id:"contactWhatsApp",name:"contactWhatsApp",value:p.contactWhatsApp||"",onChange:j,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"WhatsApp number"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Project Link"}),(0,a.jsx)("input",{type:"url",name:"projectLink",value:p.projectLink||"",onChange:j,className:"mt-1 block w-full border border-gray-300 rounded-md p-2 active:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Created At"}),(0,a.jsx)("input",{type:"date",name:"createdAt",value:p.createdAt,onChange:j,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md p-2 active:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent "})]}),u.map(e=>(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:e.categoryName}),(0,a.jsxs)("select",{name:"category-".concat(e.categoryName),value:p.selectedCategoryOptions[e.categoryName]||"",onChange:j,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md p-2 active:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsxs)("option",{value:"",children:["Select a ",e.categoryName]}),e.options.map(e=>(0,a.jsx)("option",{value:e.optionName,children:e.optionName},e.optionId))]}),"Domain"===e.categoryName&&"Other"===p.selectedCategoryOptions.Domain&&(0,a.jsx)("input",{type:"text",name:"customDomain",value:p.customDomain||"",onChange:j,placeholder:"Enter custom domain",required:!0,className:"mt-2 block w-full border border-gray-300 rounded-md p-2 active:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent  "})]},e.categoryId)),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-4 mt-6",children:[(0,a.jsx)("button",{type:"button",onClick:()=>e.push("/profile"),className:"bg-gray-300 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-400 w-full sm:w-auto",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Save Changes"})]})]})]})})):(0,a.jsx)("div",{className:"p-8 text-center",children:"Project not found"})}},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},6932:(e,t,r)=>{Promise.resolve().then(r.bind(r,1823))},7550:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r(2115);let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:i="",children:d,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:t,...n,width:o,height:o,stroke:r,strokeWidth:c?24*Number(l)/Number(o):l,className:s("lucide",i),...m},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let r=(0,a.forwardRef)((r,n)=>{let{className:c,...i}=r;return(0,a.createElement)(l,{ref:n,iconNode:t,className:s("lucide-".concat(o(e)),c),...i})});return r.displayName="".concat(e),r}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,644,835,441,684,358],()=>t(6932)),_N_E=e.O()}]);